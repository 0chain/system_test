name: "0Chain System Tests"
on:
  push:
  workflow_dispatch:

jobs:
  system-tests:
    name: "System Tests"
    runs-on: [ tests-suite ]
    timeout-minutes: 90
    steps:
      - name: "Config: Run tests against existing 0Chain network"
        shell: 'script --return --quiet --command "bash {0}"'
        run: |
          echo "^[[34mtest^[[39;49m^[[0m" > test.ansi
          sudo apt update
          sudo apt-get -y install build-essential
          sudo apt-get -y install cmake
          wget https://github.com/ansilove/ansilove/archive/refs/heads/master.zip
          unzip -y master.zip
          ls -l 
          mkdir build
          cd build
          cmake ..
          make
          ls -l 
          rm -rf *
          

      - name: "Archive API Test Config & Console Output"
        uses: actions/upload-artifact@v3
        with:
         name: output.png
         path: |
          ./output.png
